"use strict";var n=require("react/jsx-runtime"),t=require("react"),i=function(){return i=Object.assign||function(n){for(var t,i=1,o=arguments.length;i<o;i++)for(var e in t=arguments[i])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n},i.apply(this,arguments)};function o(n,t){void 0===t&&(t={});var i=t.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===i&&o.firstChild?o.insertBefore(e,o.firstChild):o.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}}"function"==typeof SuppressedError&&SuppressedError;o("table {\n    border-collapse: collapse;\n}\n\nthead th { \n    position: sticky;\n    top: 0;\n    background-color: white;\n    padding: 8px;\n}\n\n.datagrid__pagination {\n    padding: 8px 16px;\n    align-self: end;\n    position: sticky;\n    bottom: 0;\n    background: white;\n    width: 100%;\n}\n\n.datagrid {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow: auto;\n}");o("/* .resizable__cell {\n    resize: horizontal;\n    overflow: auto;\n    width: 120px;\n    height: 120px;\n    margin: 0px;\n    padding: 0px;\n    display:block;\n}\n\ntd div {\n    border: 0;\n    width: auto;\n    height: auto;\n    min-height: 20px;\n    min-width: 20px;\n}\n\ntd {\n    border: 2px solid black;\n    padding: 0;\n    margin: 0px;\n    overflow: auto;\n  } */\n\n.cell {\n    padding: 8px;\n}");var e=function(t){var o=t.schema,e=t.data,a=t.onRowClick;return e&&o?n.jsx("tbody",{children:e.map((function(t,e){return n.jsx("tr",i({onClick:function(){return a&&a(t)}},{children:o.map((function(o){return n.jsx("td",i({className:"cell"},{children:n.jsx("div",i({className:"cell_content"},{children:t[o.field]}))}),o.field)}))}),e)}))}):n.jsx("div",{children:"Loading ..."})},a=function(o){var e=o.schema,a=o.onSort;if(!e)return n.jsx("div",{children:"Loading ..."});var r=t.useState(null),l=r[0],d=r[1];return n.jsx("thead",{children:n.jsx("tr",{children:e.map((function(t){return n.jsx("th",{children:n.jsxs("div",i({style:{cursor:t.sortable?"pointer":"default"},onClick:function(){return t.sortable&&(n=t.field,i="ASC"===(null==l?void 0:l.direction)?"DESC":"ASC",d({field:n,direction:i}),void(a&&a(n,i)));var n,i}},{children:[t.displayName,t.sortable&&(null==l?void 0:l.field)===t.field&&("ASC"===l.direction?"ðŸ”¼":"ðŸ”½")]}))},t.field)}))})})};o(".pagination {\n    display: inline-block;\n}\n\n.pagination__controls {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}\n  \n.pagination__position {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}\n\n.pagination__position--active {\n    background-color: #4CAF50;\n    color: white;\n    border: 1px solid #4CAF50;\n}\n\n.pagination__position:hover:not(.active) {\n    background-color: #ddd;\n}\n\n.pagination__limitSelector {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}");var r=function(t){var o=t.paginationOptions,e=o.page,a=o.pageSize,r=o.total,l=o.onPageChanged,d=o.onLimitChanged,c=o.limitOptions,s=function(n,t){return t<=5?Array.from({length:t},(function(n,t){return t+1})):n<=3?[1,2,3,4,5]:n>=t-2?[t-4,t-3,t-2,t-1,t]:[n-2,n-1,n,n+1,n+2]}(e,r);return n.jsxs("div",i({className:"pagination"},{children:[n.jsx("button",i({className:"pagination__controls",disabled:e<=3.5,onClick:function(){return l(1)}},{children:"Â«Â«"})),n.jsx("button",i({className:"pagination__controls",disabled:e<=1,onClick:function(){return l(e-1)}},{children:"Â«"})),s.map((function(t){return n.jsx("button",i({className:"pagination__position ".concat(t===e?"pagination__position--active":""),onClick:function(){return l(t)}},{children:t}),t)})),n.jsx("button",i({className:"pagination__controls",disabled:e>=r,onClick:function(){return l(e+1)}},{children:"Â»"})),n.jsx("button",i({className:"pagination__controls",disabled:e>=r-2.5,onClick:function(){return l(r)}},{children:"Â»Â»"})),n.jsx("select",i({name:"limit",className:"pagination__limitSelector"},{children:c.map((function(t){return n.jsx("option",i({value:t,selected:t===a,onClick:function(){return d(t)}},{children:t}),t)}))}))]}))};exports.DataGrid=function(t){var o=t.schema,l=t.data,d=t.onRowClick,c=t.paginationOptions,s=t.infiniteScrollOptions,p=t.onSort;return n.jsxs("div",i({className:"datagrid",onScroll:function(n){n.target.scrollHeight-n.target.scrollTop===n.target.clientHeight&&(null==s||s.onScrollEnd())}},{children:[n.jsxs("table",i({className:"table"},{children:[n.jsx(a,{schema:o,onSort:p}),n.jsx(e,{schema:o,data:l,onRowClick:d})]})),c&&n.jsx("div",i({className:"datagrid__pagination"},{children:n.jsx(r,{paginationOptions:c})}))]}))};
//# sourceMappingURL=index.js.map
