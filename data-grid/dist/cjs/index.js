"use strict";var n=require("react/jsx-runtime"),t=require("react"),e=function(){return e=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},e.apply(this,arguments)};function i(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}"function"==typeof SuppressedError&&SuppressedError;i("table {\n  border-collapse: collapse;\n}\n\nthead th {\n  position: sticky;\n  top: 0;\n  background-color: white;\n  padding: 8px;\n}\n\n.datagrid__pagination {\n  padding: 8px 16px;\n  align-self: end;\n  position: sticky;\n  bottom: 0;\n  background: white;\n  width: 100%;\n}\n\n.datagrid {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: auto;\n}\n");i("/* .resizable__cell {\n    resize: horizontal;\n    overflow: auto;\n    width: 120px;\n    height: 120px;\n    margin: 0px;\n    padding: 0px;\n    display:block;\n}\n\ntd div {\n    border: 0;\n    width: auto;\n    height: auto;\n    min-height: 20px;\n    min-width: 20px;\n}\n\ntd {\n    border: 2px solid black;\n    padding: 0;\n    margin: 0px;\n    overflow: auto;\n  } */\n\n.cell {\n  padding: 8px;\n}\n");var o=function(i){var o=i.field,a=i.value,r=i.row,l=i.onCellContentUpdate,d=i.editable,c=t.useState(!1),s=c[0],p=c[1];return n.jsx("td",e({className:"cell",onDoubleClick:function(n){d&&p(!s)}},{children:s?n.jsx("input",{autoFocus:!0,type:"text",defaultValue:a,onBlur:function(n){var t;p(!1),l&&l(e(e({},r),((t={})[o]=n.target.value,t)))}}):n.jsx("div",e({className:"cell_content"},{children:a}))}),o)},a=function(t){var i=t.schema,a=t.data,r=t.onRowClick,l=t.onCellContentUpdate;return a&&i?n.jsx("tbody",{children:a.map((function(t,a){return n.jsx("tr",e({onClick:function(){return r&&r(t)}},{children:i.map((function(e,i){return n.jsx(o,{field:e.field,value:t[e.field],onCellContentUpdate:l,row:t,editable:e.editable},"".concat(e.field,"-").concat(i))}))}),a)}))}):n.jsx("div",{children:"Loading ..."})},r=function(i){var o=i.schema,a=i.onSort;if(!o)return n.jsx("div",{children:"Loading ..."});var r=t.useState(null),l=r[0],d=r[1];return n.jsx("thead",{children:n.jsx("tr",{children:o.map((function(t){return n.jsx("th",{children:n.jsxs("div",e({style:{cursor:t.sortable?"pointer":"default"},onClick:function(){return t.sortable&&(n=t.field,e="ASC"===(null==l?void 0:l.direction)?"DESC":"ASC",d({field:n,direction:e}),void(a&&a(n,e)));var n,e}},{children:[t.displayName,t.sortable&&(null==l?void 0:l.field)===t.field&&("ASC"===l.direction?"^":"⌄")]}))},t.field)}))})})};i(".pagination {\n  display: inline-block;\n}\n\n.pagination__controls {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n\n.pagination__position {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n\n.pagination__position--active {\n  background-color: #969696;\n  color: white;\n  border: 1px solid #969696;\n}\n\n.pagination__position:hover:not(.active) {\n  background-color: #ddd;\n}\n\n.pagination__limitSelector {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n");var l=function(t){var i=t.paginationOptions,o=i.page,a=i.pageSize,r=i.total,l=i.onPageChanged,d=i.onLimitChanged,c=i.limitOptions,s=function(n,t){return t<=5?Array.from({length:t},(function(n,t){return t+1})):n<=3?[1,2,3,4,5]:n>=t-2?[t-4,t-3,t-2,t-1,t]:[n-2,n-1,n,n+1,n+2]}(o,r);return n.jsxs("div",e({className:"pagination"},{children:[n.jsx("button",e({className:"pagination__controls",disabled:o<=3.5,onClick:function(){return l(1)}},{children:"««"})),n.jsx("button",e({className:"pagination__controls",disabled:o<=1,onClick:function(){return l(o-1)}},{children:"«"})),s.map((function(t){return n.jsx("button",e({className:"pagination__position ".concat(t===o?"pagination__position--active":""),onClick:function(){return l(t)}},{children:t}),t)})),n.jsx("button",e({className:"pagination__controls",disabled:o>=r,onClick:function(){return l(o+1)}},{children:"»"})),n.jsx("button",e({className:"pagination__controls",disabled:o>=r-2.5,onClick:function(){return l(r)}},{children:"»»"})),n.jsx("select",e({name:"limit",className:"pagination__limitSelector",defaultValue:a},{children:c.map((function(t){return n.jsx("option",e({value:t,onClick:function(){return d(t)}},{children:t}),t)}))}))]}))};exports.DataGrid=function(t){var i=t.schema,o=t.data,d=t.onRowClick,c=t.paginationOptions,s=t.infiniteScrollOptions,p=t.onSort,u=t.onCellContentUpdate;return n.jsxs("div",e({className:"datagrid",onScroll:function(n){n.target.scrollHeight-n.target.scrollTop===n.target.clientHeight&&(null==s||s.onScrollEnd())}},{children:[n.jsxs("table",e({className:"table"},{children:[n.jsx(r,{schema:i,onSort:p}),n.jsx(a,{schema:i,data:o,onRowClick:d,onCellContentUpdate:u})]})),c&&n.jsx("div",e({className:"datagrid__pagination"},{children:n.jsx(l,{paginationOptions:c})}))]}))};
//# sourceMappingURL=index.js.map
