import{jsx as n,jsxs as t}from"react/jsx-runtime";import{useState as i}from"react";var o=function(){return o=Object.assign||function(n){for(var t,i=1,o=arguments.length;i<o;i++)for(var e in t=arguments[i])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n},o.apply(this,arguments)};function e(n,t){void 0===t&&(t={});var i=t.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===i&&o.firstChild?o.insertBefore(e,o.firstChild):o.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}}"function"==typeof SuppressedError&&SuppressedError;e("table {\n    border-collapse: collapse;\n}\n\nthead th { \n    position: sticky;\n    top: 0;\n    background-color: white;\n    padding: 8px;\n}\n\n.datagrid__pagination {\n    padding: 8px 16px;\n    align-self: end;\n    position: sticky;\n    bottom: 0;\n    background: white;\n    width: 100%;\n}\n\n.datagrid {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow: auto;\n}");e("/* .resizable__cell {\n    resize: horizontal;\n    overflow: auto;\n    width: 120px;\n    height: 120px;\n    margin: 0px;\n    padding: 0px;\n    display:block;\n}\n\ntd div {\n    border: 0;\n    width: auto;\n    height: auto;\n    min-height: 20px;\n    min-width: 20px;\n}\n\ntd {\n    border: 2px solid black;\n    padding: 0;\n    margin: 0px;\n    overflow: auto;\n  } */\n\n.cell {\n    padding: 8px;\n}");var a=function(t){var i=t.schema,e=t.data,a=t.onRowClick;return e&&i?n("tbody",{children:e.map((function(t,e){return n("tr",o({onClick:function(){return a&&a(t)}},{children:i.map((function(i){return n("td",o({className:"cell"},{children:n("div",o({className:"cell_content"},{children:t[i.field]}))}),i.field)}))}),e)}))}):n("div",{children:"Loading ..."})},r=function(e){var a=e.schema,r=e.onSort;if(!a)return n("div",{children:"Loading ..."});var l=i(null),d=l[0],c=l[1];return n("thead",{children:n("tr",{children:a.map((function(i){return n("th",{children:t("div",o({style:{cursor:i.sortable?"pointer":"default"},onClick:function(){return i.sortable&&(n=i.field,t="ASC"===(null==d?void 0:d.direction)?"DESC":"ASC",c({field:n,direction:t}),void(r&&r(n,t)));var n,t}},{children:[i.displayName,i.sortable&&(null==d?void 0:d.field)===i.field&&("ASC"===d.direction?"ðŸ”¼":"ðŸ”½")]}))},i.field)}))})})};e(".pagination {\n    display: inline-block;\n}\n\n.pagination__controls {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}\n  \n.pagination__position {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}\n\n.pagination__position--active {\n    background-color: #4CAF50;\n    color: white;\n    border: 1px solid #4CAF50;\n}\n\n.pagination__position:hover:not(.active) {\n    background-color: #ddd;\n}\n\n.pagination__limitSelector {\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n}");var l=function(i){var e=i.paginationOptions,a=e.page,r=e.pageSize,l=e.total,d=e.onPageChanged,c=e.onLimitChanged,s=e.limitOptions,p=function(n,t){return t<=5?Array.from({length:t},(function(n,t){return t+1})):n<=3?[1,2,3,4,5]:n>=t-2?[t-4,t-3,t-2,t-1,t]:[n-2,n-1,n,n+1,n+2]}(a,l);return t("div",o({className:"pagination"},{children:[n("button",o({className:"pagination__controls",disabled:a<=3.5,onClick:function(){return d(1)}},{children:"Â«Â«"})),n("button",o({className:"pagination__controls",disabled:a<=1,onClick:function(){return d(a-1)}},{children:"Â«"})),p.map((function(t){return n("button",o({className:"pagination__position ".concat(t===a?"pagination__position--active":""),onClick:function(){return d(t)}},{children:t}),t)})),n("button",o({className:"pagination__controls",disabled:a>=l,onClick:function(){return d(a+1)}},{children:"Â»"})),n("button",o({className:"pagination__controls",disabled:a>=l-2.5,onClick:function(){return d(l)}},{children:"Â»Â»"})),n("select",o({name:"limit",className:"pagination__limitSelector"},{children:s.map((function(t){return n("option",o({value:t,selected:t===r,onClick:function(){return c(t)}},{children:t}),t)}))}))]}))},d=function(i){var e=i.schema,d=i.data,c=i.onRowClick,s=i.paginationOptions,p=i.infiniteScrollOptions,u=i.onSort;return t("div",o({className:"datagrid",onScroll:function(n){n.target.scrollHeight-n.target.scrollTop===n.target.clientHeight&&(null==p||p.onScrollEnd())}},{children:[t("table",o({className:"table"},{children:[n(r,{schema:e,onSort:u}),n(a,{schema:e,data:d,onRowClick:c})]})),s&&n("div",o({className:"datagrid__pagination"},{children:n(l,{paginationOptions:s})}))]}))};export{d as DataGrid};
//# sourceMappingURL=index.js.map
