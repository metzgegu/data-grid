import{jsx as n,jsxs as t}from"react/jsx-runtime";import{useState as o}from"react";var i=function(){return i=Object.assign||function(n){for(var t,o=1,i=arguments.length;o<i;o++)for(var e in t=arguments[o])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n},i.apply(this,arguments)};function e(n,t){void 0===t&&(t={});var o=t.insertAt;if(n&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===o&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}}"function"==typeof SuppressedError&&SuppressedError;e("table {\n  border-collapse: collapse;\n}\n\nthead th {\n  position: sticky;\n  top: 0;\n  background-color: white;\n  padding: 8px;\n}\n\n.datagrid__pagination {\n  padding: 8px 16px;\n  align-self: end;\n  position: sticky;\n  bottom: 0;\n  background: white;\n  width: 100%;\n}\n\n.datagrid {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: auto;\n}\n");e("/* .resizable__cell {\n    resize: horizontal;\n    overflow: auto;\n    width: 120px;\n    height: 120px;\n    margin: 0px;\n    padding: 0px;\n    display:block;\n}\n\ntd div {\n    border: 0;\n    width: auto;\n    height: auto;\n    min-height: 20px;\n    min-width: 20px;\n}\n\ntd {\n    border: 2px solid black;\n    padding: 0;\n    margin: 0px;\n    overflow: auto;\n  } */\n\n.cell {\n  padding: 8px;\n}\n");var a=function(t){var e=t.field,a=t.value,r=t.row,l=t.onCellContentUpdate,d=t.editable,c=o(!1),p=c[0],s=c[1];return n("td",i({className:"cell",onDoubleClick:function(n){d&&s(!p)}},{children:p?n("input",{autoFocus:!0,type:"text",defaultValue:a,onBlur:function(n){var t;s(!1),l&&l(i(i({},r),((t={})[e]=n.target.value,t)))}}):n("div",i({className:"cell_content"},{children:a}))}),e)},r=function(t){var o=t.schema,e=t.data,r=t.onRowClick,l=t.onCellContentUpdate;return e&&o?n("tbody",{children:e.map((function(t,e){return n("tr",i({onClick:function(){return r&&r(t)}},{children:o.map((function(o,i){return n(a,{field:o.field,value:t[o.field],onCellContentUpdate:l,row:t,editable:o.editable},"".concat(o.field,"-").concat(i))}))}),e)}))}):n("div",{children:"Loading ..."})},l=function(e){var a=e.schema,r=e.onSort;if(!a)return n("div",{children:"Loading ..."});var l=o(null),d=l[0],c=l[1];return n("thead",{children:n("tr",{children:a.map((function(o){return n("th",{children:t("div",i({style:{cursor:o.sortable?"pointer":"default"},onClick:function(){return o.sortable&&(n=o.field,t="ASC"===(null==d?void 0:d.direction)?"DESC":"ASC",c({field:n,direction:t}),void(r&&r(n,t)));var n,t}},{children:[o.displayName,o.sortable&&(null==d?void 0:d.field)===o.field&&("ASC"===d.direction?"^":"⌄")]}))},o.field)}))})})};e(".pagination {\n  display: inline-block;\n}\n\n.pagination__controls {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n\n.pagination__position {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n\n.pagination__position--active {\n  background-color: #969696;\n  color: white;\n  border: 1px solid #969696;\n}\n\n.pagination__position:hover:not(.active) {\n  background-color: #ddd;\n}\n\n.pagination__limitSelector {\n  color: black;\n  float: left;\n  padding: 8px 16px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n  border: 1px solid #ddd;\n}\n");var d=function(o){var e=o.paginationOptions,a=e.page,r=e.pageSize,l=e.total,d=e.onPageChanged,c=e.onLimitChanged,p=e.limitOptions,s=function(n,t){return t<=5?Array.from({length:t},(function(n,t){return t+1})):n<=3?[1,2,3,4,5]:n>=t-2?[t-4,t-3,t-2,t-1,t]:[n-2,n-1,n,n+1,n+2]}(a,l);return t("div",i({className:"pagination"},{children:[n("button",i({className:"pagination__controls",disabled:a<=3.5,onClick:function(){return d(1)}},{children:"««"})),n("button",i({className:"pagination__controls",disabled:a<=1,onClick:function(){return d(a-1)}},{children:"«"})),s.map((function(t){return n("button",i({className:"pagination__position ".concat(t===a?"pagination__position--active":""),onClick:function(){return d(t)}},{children:t}),t)})),n("button",i({className:"pagination__controls",disabled:a>=l,onClick:function(){return d(a+1)}},{children:"»"})),n("button",i({className:"pagination__controls",disabled:a>=l-2.5,onClick:function(){return d(l)}},{children:"»»"})),n("select",i({name:"limit",className:"pagination__limitSelector",defaultValue:r},{children:p.map((function(t){return n("option",i({value:t,onClick:function(){return c(t)}},{children:t}),t)}))}))]}))},c=function(o){var e=o.schema,a=o.data,c=o.onRowClick,p=o.paginationOptions,s=o.infiniteScrollOptions,u=o.onSort,f=o.onCellContentUpdate;return t("div",i({className:"datagrid",onScroll:function(n){n.target.scrollHeight-n.target.scrollTop===n.target.clientHeight&&(null==s||s.onScrollEnd())}},{children:[t("table",i({className:"table"},{children:[n(l,{schema:e,onSort:u}),n(r,{schema:e,data:a,onRowClick:c,onCellContentUpdate:f})]})),p&&n("div",i({className:"datagrid__pagination"},{children:n(d,{paginationOptions:p})}))]}))};export{c as DataGrid};
//# sourceMappingURL=index.js.map
